<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Admin</title>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <link rel="stylesheet" href="https://fonts.googleapis.com/icon?family=Material+Icons">
    <link rel="stylesheet" href="MobiCommAdminStyles.css">
</head>
<body>

    <header style="display: flex; justify-content: space-between; align-items: center; padding: 15px 20px; background-color: #005f5f; border-bottom: 2px solid #ddd;">
        <div>
            <img src="/Images/logo2-removebg-preview.png" alt="MobiComm Logo" height="40px">
        </div>
    
        <div style="display: flex; align-items: center;">
            <img src="/Images/user.png" alt="User Icon" height="35px" style="padding-right: 20px;">
        </div>
    </header>
    
    <div class="main-container">
        
        <aside class="sidebar">
          <h2 style="cursor: pointer;" onclick="changeContent(5)">Admin Dashboard</h2>
          <ul class="sidebar-menu">
            <li><a href="#" onclick="changeContent(1)">User Management</a></li>
            <li><a href="#" onclick="changeContent(2)">Recharge System</a></li>
            <li><a href="#" onclick="changeContent(3)">Recharge plan Management</a></li>
            <li><a href="#" onclick="changeContent(4)">Settings</a></li>
          </ul>
        </aside>

        <div class="main-content">

            <div id="expiry-users" class="section active">
                <div class="stats-container">
                    <div class=" card allcard">
                        <h3>Total Transactions</h3>
                        <p>1,250</p>
                    </div>
                    <div class=" card successcard">
                        <h3>Successful Transactions</h3>
                        <p>1,050</p>
                    </div>
                    <div class="card failedcard">
                        <h3>Failed Transactions</h3>
                        <p>120</p>
                    </div>
                    <div class="card totalcard">
                        <h3>Total Revenue</h3>
                        <p>â‚¹5,75,000</p>
                    </div>
                </div>

                <br>
                <br>
                <br>
                <br>
                

                <div style="display:flex; gap:20px">
                <canvas id="transactionChart" width="600" height="300"></canvas>
                <canvas id="paymentChart" height="20px"></canvas>
                </div>

                <br>
                <br>
                <br>
                <br>

                <h3>User's Plans Expiry in Three Days</h3><br>
                <table id="user-table-expiry">
                    <thead>
                        <tr>
                            <th>User ID</th>
                            <th>Name</th>
                            <th>Email</th>
                            <th>Phone Number</th>
                           <th>Status</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td>125</td>
                            <td>David Johnson</td>
                            <td>david@example.com</td>
                            <td>9234567890</td>
                            <td>Expires in 3 days</td>
                        </tr>
                        <tr>
                            <td>112</td>
                            <td>Emily White</td>
                            <td>emily@example.com</td>
                            <td>9345678901</td>
                            <td>Expires in 3 days</td>
                        </tr>
                        <tr>
                            <td>135</td>
                            <td>Robert King</td>
                            <td>robert@example.com</td>
                            <td>9456789012</td>
                            <td>Expires in 3 days</td>
                        </tr>
                        <tr>
                            <td>109</td>
                            <td>Sarah Brown</td>
                            <td>sarah@example.com</td>
                            <td>9567890123</td>
                            <td>Expires in 3 days</td>
                        </tr>
                        <tr>
                            <td>142</td>
                            <td>Michael Lee</td>
                            <td>michael@example.com</td>
                            <td>9678901234</td>
                            <td>Expires in 3 days</td>
                        </tr>
                        <tr>
                            <td>101</td>
                            <td>John Doe</td>
                            <td>john@example.com</td>
                            <td>9876543210</td>
                            <td>Expires in 3 days</td>
                        </tr>
                        <tr>
                            <td>119</td>
                            <td>Jessica Taylor</td>
                            <td>jessica@example.com</td>
                            <td>9789012345</td>
                            <td>Expires in 3 day</td>
                        </tr>
                        <tr>
                            <td>130</td>
                            <td>Chris Evans</td>
                            <td>chris@example.com</td>
                            <td>9890123456</td>
                            <td>Expires in 3 days</td>
                        </tr>
                        <tr>
                            <td>105</td>
                            <td>Olivia Wilson</td>
                            <td>olivia@example.com</td>
                            <td>9901234567</td>
                            <td>Expires in 3 days</td>
                        </tr>
                        <tr>
                            <td>138</td>
                            <td>Daniel Clark</td>
                            <td>daniel@example.com</td>
                            <td>9123456789</td>
                            <td>Expires in 3 days</td>
                        </tr>
                        <tr>
                            <td>150</td>
                            <td>Sophia Adams</td>
                            <td>sophia@example.com</td>
                            <td>9234567891</td>
                            <td>Expires in 3 days</td>
                        </tr>
                        <tr>
                            <td>113</td>
                            <td>Liam Harris</td>
                            <td>liam@example.com</td>
                            <td>9345678902</td>
                            <td>Expires in 3 days</td>
                        </tr>
                        <tr>
                            <td>122</td>
                            <td>Emma Scott</td>
                            <td>emma@example.com</td>
                            <td>9456789013</td>
                            <td>Expires in 3 days</td>
                        </tr>
                        <tr>
                            <td>108</td>
                            <td>James Walker</td>
                            <td>james@example.com</td>
                            <td>9567890124</td>
                            <td>Expires in 3 days</td>
                        </tr>
                        <tr>
                            <td>136</td>
                            <td>Isabella Young</td>
                            <td>isabella@example.com</td>
                            <td>9678901235</td>
                            <td>Expires in 3 days</td>
                        </tr>
                        <tr>
                            <td>147</td>
                            <td>Lucas Martin</td>
                            <td>lucas@example.com</td>
                            <td>9789012346</td>
                            <td>Expires in 3 days</td>
                        </tr>
                        <tr>
                            <td>103</td>
                            <td>Ava Robinson</td>
                            <td>ava@example.com</td>
                            <td>9890123457</td>
                            <td>Expires in 3 days</td>
                        </tr>
                        <tr>
                            <td>141</td>
                            <td>Mason Thomas</td>
                            <td>mason@example.com</td>
                            <td>9901234568</td>
                            <td>Expires in 3 days</td>
                        </tr>
                        <tr>
                            <td>120</td>
                            <td>Mia Hall</td>
                            <td>mia@example.com</td>
                            <td>9123456788</td>
                            <td>Expires in 3 days</td>
                        </tr>
                        <tr>
                            <td>110</td>
                            <td>Ethan Wright</td>
                            <td>ethan@example.com</td>
                            <td>9234567892</td>
                            <td>Expires in 3 days</td>
                        </tr>
                        
                    </tbody>
                </table>
            </div>

            <div id="user-management" class="section active">
                <h3>User Management</h3><br>
                <button class="edit-btn" onclick="openAdduserModal()">Add New User</button>
                <table id="user-table">
                    <thead>
                        <tr>
                            <th>User ID</th>
                            <th>Name</th>
                            <th>Email</th>
                            <th>Phone Number</th>
                            <th>Date Of Birth</th>
                            <th>Gender</th>
                            <th>Address</th>
                            <th>status</th>
                            <th>Actions</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td>101</td>
                            <td>Rahul Sharma</td>
                            <td>rahul.sharma@example.com</td>
                            <td>+91 9876543210</td>
                            <td>1990-05-15</td>
                            <td>Male</td>
                            <td>123 Park Street, Mumbai, Maharashtra</td>
                            <td><button class="activeClass">active</button></td>
                            <td>
                                <button onclick="openedituserModal(this)"><span class="material-icons">edit</span></button>
                                <button onclick="deleteUser(this)"><span class="material-icons">delete</span></button>
                            </td>
                        </tr>
                        <tr>
                            <td>102</td>
                            <td>Priya Patel</td>
                            <td>priya.patel@example.com</td>
                            <td>+91 9876543211</td>
                            <td>1992-08-21</td>
                            <td>Female</td>
                            <td>456 MG Road, Bangalore, Karnataka</td>
                            <td><button class="activeClass">active</button></td>
                            <td>
                                <button onclick="openedituserModal(this)"><span class="material-icons">edit</span></button>
                                <button onclick="deleteUser(this)"><span class="material-icons">delete</span></button>
                            </td>
                        </tr>
                        <tr>
                            <td>103</td>
                            <td>Amit Kumar</td>
                            <td>amit.kumar@example.com</td>
                            <td>+91 9876543212</td>
                            <td>1988-03-30</td>
                            <td>Male</td>
                            <td>789 Civil Lines, Delhi</td>
                            <td><button class="inactiveClass">inactive</button></td>
                            <td>
                                <button onclick="openedituserModal(this)"><span class="material-icons">edit</span></button>
                                <button onclick="deleteUser(this)"><span class="material-icons">delete</span></button>
                            </td>
                        </tr>
                        <tr>
                            <td>104</td>
                            <td>Neha Singh</td>
                            <td>neha.singh@example.com</td>
                            <td>+91 9876543213</td>
                            <td>1995-11-12</td>
                            <td>Female</td>
                            <td>321 Sector 18, Noida, UP</td>
                            <td><button class="activeClass">active</button></td>
                            <td>
                                <button onclick="openedituserModal(this)"><span class="material-icons">edit</span></button>
                                <button onclick="deleteUser(this)"><span class="material-icons">delete</span></button>
                            </td>
                        </tr>
                        <tr>
                            <td>105</td>
                            <td>Vikram Malhotra</td>
                            <td>vikram.m@example.com</td>
                            <td>+91 9876543214</td>
                            <td>1991-07-25</td>
                            <td>Male</td>
                            <td>654 Anna Salai, Chennai, Tamil Nadu</td>
                            <td><button class="suspendedClass">suspended</button></td>
                            <td>
                                <button onclick="openedituserModal(this)"><span class="material-icons">edit</span></button>
                                <button onclick="deleteUser(this)"><span class="material-icons">delete</span></button>
                            </td>
                        </tr>
                        <tr>
                            <td>106</td>
                            <td>Anjali Gupta</td>
                            <td>anjali.g@example.com</td>
                            <td>+91 9876543215</td>
                            <td>1993-09-18</td>
                            <td>Female</td>
                            <td>987 Banjara Hills, Hyderabad, Telangana</td>
                            <td><button class="activeClass">active</button></td>
                            <td>
                                <button onclick="openedituserModal(this)"><span class="material-icons">edit</span></button>
                                <button onclick="deleteUser(this)"><span class="material-icons">delete</span></button>
                            </td>
                        </tr>
                        <tr>
                            <td>107</td>
                            <td>Sandeep Reddy</td>
                            <td>sandeep.r@example.com</td>
                            <td>+91 9876543216</td>
                            <td>1987-12-05</td>
                            <td>Male</td>
                            <td>147 South City, Kolkata, West Bengal</td>
                            <td><button class="activeClass">active</button></td>
                            <td>
                                <button onclick="openedituserModal(this)"><span class="material-icons">edit</span></button>
                                <button onclick="deleteUser(this)"><span class="material-icons">delete</span></button>
                            </td>
                        </tr>
                        <tr>
                            <td>108</td>
                            <td>Meera Iyer</td>
                            <td>meera.i@example.com</td>
                            <td>+91 9876543217</td>
                            <td>1994-04-28</td>
                            <td>Female</td>
                            <td>258 FC Road, Pune, Maharashtra</td>
                            <td><button class="inactiveClass">inactive</button></td>
                            <td>
                                <button onclick="openedituserModal(this)"><span class="material-icons">edit</span></button>
                                <button onclick="deleteUser(this)"><span class="material-icons">delete</span></button>
                            </td>
                        </tr>
                        <tr>
                            <td>109</td>
                            <td>Rajesh Khanna</td>
                            <td>rajesh.k@example.com</td>
                            <td>+91 9876543218</td>
                            <td>1989-06-15</td>
                            <td>Male</td>
                            <td>369 CG Road, Ahmedabad, Gujarat</td>
                            <td><button class="activeClass">active</button></td>
                            <td>
                                <button onclick="openedituserModal(this)"><span class="material-icons">edit</span></button>
                                <button onclick="deleteUser(this)"><span class="material-icons">delete</span></button>
                            </td>
                        </tr>
                        <tr>
                            <td>110</td>
                            <td>Pooja Mehta</td>
                            <td>pooja.m@example.com</td>
                            <td>+91 9876543219</td>
                            <td>1996-02-20</td>
                            <td>Female</td>
                            <td>741 Mall Road, Lucknow, UP</td>
                            <td><button class="suspendedClass">suspended</button></td>
                            <td>
                                <button onclick="openedituserModal(this)"><span class="material-icons">edit</span></button>
                                <button onclick="deleteUser(this)"><span class="material-icons">delete</span></button>
                            </td>
                        </tr>
                        <tr>
                            <td>111</td>
                            <td>Karthik Rajan</td>
                            <td>karthik.r@example.com</td>
                            <td>+91 9876543220</td>
                            <td>1992-10-08</td>
                            <td>Male</td>
                            <td>852 MG Marg, Jaipur, Rajasthan</td>
                            <td><button class="activeClass">active</button></td>
                            <td>
                                <button onclick="openedituserModal(this)"><span class="material-icons">edit</span></button>
                                <button onclick="deleteUser(this)"><span class="material-icons">delete</span></button>
                            </td>
                        </tr>
                        <tr>
                            <td>112</td>
                            <td>Kavita Rao</td>
                            <td>kavita.r@example.com</td>
                            <td>+91 9876543221</td>
                            <td>1990-12-31</td>
                            <td>Female</td>
                            <td>963 Church Street, Kochi, Kerala</td>
                            <td><button class="activeClass">active</button></td>
                            <td>
                                <button onclick="openedituserModal(this)"><span class="material-icons">edit</span></button>
                                <button onclick="deleteUser(this)"><span class="material-icons">delete</span></button>
                            </td>
                        </tr>
                        <tr>
                            <td>113</td>
                            <td>Deepak Chopra</td>
                            <td>deepak.c@example.com</td>
                            <td>+91 9876543222</td>
                            <td>1988-08-17</td>
                            <td>Male</td>
                            <td>159 Race Course, Coimbatore, Tamil Nadu</td>
                            <td><button class="inactiveClass">inactive</button></td>
                            <td>
                                <button onclick="openedituserModal(this)"><span class="material-icons">edit</span></button>
                                <button onclick="deleteUser(this)"><span class="material-icons">delete</span></button>
                            </td>
                        </tr>
                        <tr>
                            <td>114</td>
                            <td>Sunita Sharma</td>
                            <td>sunita.s@example.com</td>
                            <td>+91 9876543223</td>
                            <td>1993-05-22</td>
                            <td>Female</td>
                            <td>753 Gandhi Road, Nagpur, Maharashtra</td>
                            <td><button class="activeClass">active</button></td>
                            <td>
                                <button onclick="openedituserModal(this)"><span class="material-icons">edit</span></button>
                                <button onclick="deleteUser(this)"><span class="material-icons">delete</span></button>
                            </td>
                        </tr>
                        <tr>
                            <td>115</td>
                            <td>Arjun Nair</td>
                            <td>arjun.n@example.com</td>
                            <td>+91 9876543224</td>
                            <td>1991-03-14</td>
                            <td>Male</td>
                            <td>951 Beach Road, Visakhapatnam, AP</td>
                            <td><button class="activeClass">active</button></td>
                            <td>
                                <button onclick="openedituserModal(this)"><span class="material-icons">edit</span></button>
                                <button onclick="deleteUser(this)"><span class="material-icons">delete</span></button>
                            </td>
                        </tr>
                        <tr>
                            <td>116</td>
                            <td>Lakshmi Menon</td>
                            <td>lakshmi.m@example.com</td>
                            <td>+91 9876543225</td>
                            <td>1994-07-19</td>
                            <td>Female</td>
                            <td>357 Hill Road, Shimla, HP</td>
                            <td><button class="suspendedClass">suspended</button></td>
                            <td>
                                <button onclick="openedituserModal(this)"><span class="material-icons">edit</span></button>
                                <button onclick="deleteUser(this)"><span class="material-icons">delete</span></button>
                            </td>
                        </tr>
                        <tr>
                            <td>117</td>
                            <td>Suresh Kumar</td>
                            <td>suresh.k@example.com</td>
                            <td>+91 9876543226</td>
                            <td>1989-09-30</td>
                            <td>Male</td>
                            <td>456 Lake Road, Bhopal, MP</td>
                            <td><button class="activeClass">active</button></td>
                            <td>
                                <button onclick="openedituserModal(this)"><span class="material-icons">edit</span></button>
                                <button onclick="deleteUser(this)"><span class="material-icons">delete</span></button>
                            </td>
                        </tr>
                        <tr>
                            <td>118</td>
                            <td>Maya Pillai</td>
                            <td>maya.p@example.com</td>
                            <td>+91 9876543227</td>
                            <td>1995-11-25</td>
                            <td>Female</td>
                            <td>789 Temple Street, Madurai, TN</td>
                            <td><button class="inactiveClass">inactive</button></td>
                            <td>
                                <button onclick="openedituserModal(this)"><span class="material-icons">edit</span></button>
                                <button onclick="deleteUser(this)"><span class="material-icons">delete</span></button>
                            </td>
                        </tr>
                        <tr>
                            <td>119</td>
                            <td>Kiran Shah</td>
                            <td>kiran.s@example.com</td>
                            <td>+91 9876543228</td>
                            <td>1990-01-15</td>
                            <td>Male</td>
                            <td>123 Beach Road, Panaji, Goa</td>
                            <td><button class="activeClass">active</button></td>
                            <td>
                                <button onclick="openedituserModal(this)"><span class="material-icons">edit</span></button>
                                <button onclick="deleteUser(this)"><span class="material-icons">delete</span></button>
                            </td>
                        </tr>
                        <tr>
                            <td>120</td>
                            <td>Divya Mathur</td>
                            <td>divya.m@example.com</td>
                            <td>+91 9876543229</td>
                            <td>1992-04-05</td>
                            <td>Female</td>
                            <td>456 Market Road, Trivandrum, Kerala</td>
                            <td><button class="activeClass">active</button></td>
                            <td>
                                <button onclick="openedituserModal(this)"><span class="material-icons">edit</span></button>
                                <button onclick="deleteUser(this)"><span class="material-icons">delete</span></button>
                            </td>
                        </tr>
                        <tr>
                            <td>121</td>
                            <td>Prakash Verma</td>
                            <td>prakash.v@example.com</td>
                            <td>+91 9876543230</td>
                            <td>1993-08-11</td>
                            <td>Male</td>
                            <td>789 Ring Road, Surat, Gujarat</td>
                            <td><button class="suspendedClass">suspended</button></td>
                            <td>
                                <button onclick="openedituserModal(this)"><span class="material-icons">edit</span></button>
                                <button onclick="deleteUser(this)"><span class="material-icons">delete</span></button>
                            </td>
                        </tr>
                        <tr>
                            <td>122</td>
                            <td>Anita Desai</td>
                            <td>anita.d@example.com</td>
                            <td>+91 9876543231</td>
                            <td>1991-06-28</td>
                            <td>Female</td>
                            <td>321 College Road, Indore, MP</td>
                            <td><button class="activeClass">active</button></td>
                            <td>
                                <button onclick="openedituserModal(this)"><span class="material-icons">edit
                                <button onclick="deleteUser(this)"><span class="material-icons">delete</span></button>
                            </td>
                        </tr>
                    </tbody>
                </table>


                <div id="usereditModal" class="modal">
                    <div class="modal-content">
                        <span class="close-btn" onclick="closeedituserModal()">&times;</span>
                        <h2>Edit User</h2>
            
                        <label>User ID</label>
                        <input type="text" id="modalUserId" disabled>
            
                        <label>Name</label>
                        <input type="text" id="modalName" oninput="validateInput('modalName', 'nameError')">
                        <span class="error" id="nameError"></span>

                        <label>Email</label>
                        <input type="email" id="modalEmail" oninput="validateInput('modalEmail', 'emailError')">
                        <span class="error" id="emailError"></span>

                        <label>Phone Number</label>
                        <input type="tel" id="modalPhone" oninput="validateInput('modalPhone', 'phoneError')">
                        <span class="error" id="phoneError"></span>

                        <label>Date Of Birth</label>
                        <input type="date" id="modaldob" oninput="validateInput('modaldob', 'dobError')">
                        <span class="error" id="dobError"></span>

                        <label>Address</label>
                        <input type="text" id="modalAddress" oninput="validateInput('modalAddress', 'addressError')">
                        <span class="error" id="addressError"></span>

                        <button class="save-btn" onclick="saveedituserChanges()">Save</button>
                    </div>
                </div>

                <div id="useraddModal" class="modal">
                    <div class="modal-content">
                        <span class="close-btn" onclick="closeadduserModal()">&times;</span>
                        <h2 id="modalTitle">Add User</h2>
            
                        <label>Name</label>
                        <input type="text" id="addmodalName" oninput="validateInput('addmodalName', 'addNameError')">
                        <span class="error" id="addNameError"></span>

                        <label>Email</label>
                        <input type="email" id="addmodalEmail" oninput="validateInput('addmodalEmail', 'addEmailError')">
                        <span class="error" id="addEmailError"></span>


                        <label>Phone Number</label>
                        <input type="tel" id="addmodalPhone" oninput="validateInput('addmodalPhone', 'addPhoneError')">
                        <span class="error" id="addPhoneError"></span>

                        <label>Date Of Birth</label>
                        <input type="date" id="addmodaldob" oninput="validateInput('addmodaldob', 'adddobError')">
                        <span class="error" id="adddobError"></span>

                        <label>Gender:</label>

                        <div class="form-group">
                            <input type="radio" name="male" value="male" id="male">
                            <label for="male">Male</label>
                        
                            <input type="radio" name="gender" value="female" id="female">
                            <label for="female">Female</label>
                        </div>
                        
                        <label>Address</label>
                        <input type="text" id="addmodaladdress" oninput="validateInput('addmodaladdress', 'addaddressError')">
                        <span class="error" id="addaddressError"></span>
            
                        <button class = "edit-btn" id="saveButton" onclick="saveadduserChanges()">Save</button>
                    </div>
                </div>

            </div>
            
    
            <div id="recharge-history" class="section">
                <h3>Recharge History</h3>
                <table id="history-table">
                    <thead>
                        <tr>
                            <th>Transaction ID</th>
                            <th>User ID</th>
                            <th>Name</th>
                            <th>Email</th>
                            <th>Phone Number</th>
                            <th>Plan ID</th>
                            <th>Amount</th>
                            <th>Payment Method</th>
                            <th>Status</th>
                            <th>Date</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr><td>TXN542</td><td>127</td><td>Amit Sharma</td><td>amit.sharma@email.com</td><td>9876543210</td><td>PLAN001</td><td>â‚¹199</td><td>UPI</td><td><button class="TSClass">Success</button></td><td>2025-02-19 14:30:45</td></tr>
                        <tr><td>TXN203</td><td>119</td><td>Sneha Verma</td><td>sneha.verma@email.com</td><td>9823456789</td><td>PLAN002</td><td>â‚¹399</td><td>Credit Card</td><td><button class="TFClass">Failed</button></td><td>2025-02-18 09:15:32</td></tr>
                        <tr><td>TXN671</td><td>135</td><td>Rohan Gupta</td><td>rohan.gupta@email.com</td><td>9834567890</td><td>PLAN003</td><td>â‚¹599</td><td>Debit Card</td><td><button class="TSClass">Success</button></td><td>2025-02-17 22:10:18</td></tr>
                        <tr><td>TXN874</td><td>127</td><td>Amit Sharma</td><td>amit.sharma@email.com</td><td>9876543210</td><td>PLAN004</td><td>â‚¹349</td><td>UPI</td><td><button class="TPClass">Pending</button></td><td>2025-02-16 18:50:10</td></tr>
                        <tr><td>TXN102</td><td>141</td><td>Rahul Yadav</td><td>rahul.yadav@email.com</td><td>9878901234</td><td>PLAN005</td><td>â‚¹149</td><td>Credit Card</td><td><button class="TSClass">Success</button></td><td>2025-02-15 08:40:05</td></tr>
                        <tr><td>TXN321</td><td>132</td><td>Anjali Mishra</td><td>anjali.mishra@email.com</td><td>9867890123</td><td>PLAN006</td><td>â‚¹699</td><td>Debit Card</td><td><button class="TSClass">Success</button></td><td>2025-02-14 11:20:55</td></tr>
                        <tr><td>TXN715</td><td>138</td><td>Neha Kapoor</td><td>neha.kapoor@email.com</td><td>9889012345</td><td>PLAN007</td><td>â‚¹519</td><td>Credit Card</td><td><button class="TPClass">Pending</button></td><td>2025-02-12 16:30:29</td></tr>
                        <tr><td>TXN455</td><td>135</td><td>Rohan Gupta</td><td>rohan.gupta@email.com</td><td>9834567890</td><td>PLAN008</td><td>â‚¹299</td><td>UPI</td><td><button class="TFClass">Failed</button></td><td>2025-02-13 19:05:12</td></tr>
                        <tr><td>TXN929</td><td>141</td><td>Rahul Yadav</td><td>rahul.yadav@email.com</td><td>9878901234</td><td>PLAN002</td><td>â‚¹399</td><td>Debit Card</td><td><button class="TSClass">Success</button></td><td>2025-02-11 12:20:35</td></tr>
                        <tr><td>TXN618</td><td>127</td><td>Amit Sharma</td><td>amit.sharma@email.com</td><td>9876543210</td><td>PLAN003</td><td>â‚¹599</td><td>UPI</td><td><button class="TFClass">Failed</button></td><td>2025-02-10 20:10:22</td></tr>
                        <tr><td>TXN738</td><td>119</td><td>Sneha Verma</td><td>sneha.verma@email.com</td><td>9823456789</td><td>PLAN001</td><td>â‚¹199</td><td>Credit Card</td><td><button class="TPClass">Pending</button></td><td>2025-02-09 09:50:55</td></tr>
                        <tr><td>TXN840</td><td>135</td><td>Rohan Gupta</td><td>rohan.gupta@email.com</td><td>9834567890</td><td>PLAN005</td><td>â‚¹149</td><td>Debit Card</td><td><button class="TSClass">Success</button></td><td>2025-02-08 14:10:45</td></tr>
                        <tr><td>TXN256</td><td>141</td><td>Rahul Yadav</td><td>rahul.yadav@email.com</td><td>9878901234</td><td>PLAN004</td><td>â‚¹349</td><td>UPI</td><td><button class="TFClass">Failed</button></td><td>2025-02-07 18:05:32</td></tr>
                        <tr><td>TXN134</td><td>132</td><td>Anjali Mishra</td><td>anjali.mishra@email.com</td><td>9867890123</td><td>PLAN007</td><td>â‚¹519</td><td>Credit Card</td><td><button class="TSClass">Success</button></td><td>2025-02-06 21:30:29</td></tr>
                        <tr><td>TXN982</td><td>119</td><td>Sneha Verma</td><td>sneha.verma@email.com</td><td>9823456789</td><td>PLAN006</td><td>â‚¹699</td><td>Debit Card</td><td><button class="TPClass">Pending</button></td><td>2025-02-05 16:50:10</td></tr>
                        <tr><td>TXN473</td><td>138</td><td>Neha Kapoor</td><td>neha.kapoor@email.com</td><td>9889012345</td><td>PLAN003</td><td>â‚¹599</td><td>UPI</td><td><button class="TFClass">Failed</button></td><td>2025-02-04 12:40:05</td></tr>
                        <tr><td>TXN810</td><td>141</td><td>Rahul Yadav</td><td>rahul.yadav@email.com</td><td>9878901234</td><td>PLAN002</td><td>â‚¹399</td><td>Credit Card</td><td><button class="TSClass">Success</button></td><td>2025-02-03 14:20:55</td></tr>
                        <tr><td>TXN627</td><td>135</td><td>Rohan Gupta</td><td>rohan.gupta@email.com</td><td>9834567890</td><td>PLAN008</td><td>â‚¹299</td><td>Debit Card</td><td><button class="TPClass">Pending</button></td><td>2025-02-02 10:10:18</td></tr>
                        <tr><td>TXN953</td><td>132</td><td>Anjali Mishra</td><td>anjali.mishra@email.com</td><td>9867890123</td><td>PLAN005</td><td>â‚¹149</td><td>UPI</td><td><button class="TSClass">Success</button></td><td>2025-02-01 08:05:12</td></tr>
                    </tbody>
                    
                </table>
            </div>

                
    
            <div id="recharge-plans" class="section">
                <h3>Plan Management</h3>
                <section class="updatePlans-content">
                    <div class="collapsible">
                        <input type="checkbox" id="toggle-recommended" checked>
                        <label for="toggle-recommended" class="collapsible-label">
                          Recommended (2)
                        </label>
                        <div class="collapsible-content">
                            <table>
                                <thead>
                                    <tr>
                                        <th>Plan Price</th>
                                        <th>Validity</th>
                                        <th>Data Pack</th>
                                        <th>Actions</th>
                                    </tr>
                                </thead>
                                <tbody>
                                    <tr>
                                        <td>â‚¹599</td>
                                        <td>28 Days</td>
                                        <td>2 GB/Day</td>
                                        <td><button class="edit-btn" onclick="openModal(this)">Edit</button></td>
                                    </tr>
                                    <tr>
                                        <td>â‚¹799</td>
                                        <td>56 Days</td>
                                        <td>2.5 GB/Day</td>
                                        <td><button class="edit-btn" onclick="openModal(this)">Edit</button></td>
                                    </tr>
                                </tbody>
                            </table>
                        </div>
                      </div>
                
                      <div class="collapsible">
                        <input type="checkbox" id="toggle-top-trending" />
                        <label for="toggle-top-trending" class="collapsible-label">
                          Top Trending True 5G Unlimited Plans (10)
                        </label>
                        <div class="collapsible-content">
                            <table>
                                <thead>
                                    <tr>
                                     <th>Plan Price</th>
                                        <th>Validity</th>
                                        <th>Data Pack</th>
                                        <th>Action</th>
                                    </tr>
                                </thead>
                                <tbody>
                                    <tr>
                                        <td>â‚¹3599</td>
                                        <td>365 Days</td>
                                        <td>2.5 GB/Day</td>
                                        <td><button class="edit-btn" onclick="openModal(this)">Edit</button></td>
                                    </tr>
                                    <tr>
                                        <td>â‚¹2025</td>
                                        <td>200 Days</td>
                                        <td>2.5 GB/Day</td>
                                        <td><button class="edit-btn" onclick="openModal(this)">Edit</button></td>
                                    </tr>
                                    <tr>
                                        <td>â‚¹999</td>
                                        <td>56 Days</td>
                                        <td>2.5 GB/Day</td>
                                        <td><button class="edit-btn" onclick="openModal(this)">Edit</button></td>
                                    </tr>
                                    <tr>
                                        <td>â‚¹899</td>
                                        <td>28 Days</td>
                                        <td>2.5 GB/Day</td>
                                        <td><button class="edit-btn" onclick="openModal(this)">Edit</button></td>
                                    </tr>
                                    <tr>
                                        <td>â‚¹2899</td>
                                        <td>180 Days</td>
                                        <td>2.5 GB/Day</td>
                                        <td><button class="edit-btn" onclick="openModal(this)">Edit</button></td>
                                    </tr>
                                    <tr>
                                        <td>â‚¹9999</td>
                                        <td>365 Days</td>
                                        <td>2.5 GB/Day</td>
                                        <td><button class="edit-btn" onclick="openModal(this)">Edit</button></td>
                                    </tr>
                                    <tr>
                                        <td>â‚¹3999</td>
                                        <td>305 Days</td>
                                        <td>2.5 GB/Day</td>
                                        <td><button class="edit-btn" onclick="openModal(this)">Edit</button></td>
                                    </tr>
                                    <tr>
                                        <td>â‚¹3599</td>
                                        <td>305 Days</td>
                                        <td>2.5 GB/Day</td>
                                        <td><button class="edit-btn" onclick="openModal(this)">Edit</button></td>
                                    </tr>
                                    <tr>
                                        <td>â‚¹2025</td>
                                        <td>200 Days</td>
                                        <td>2.5 GB/Day</td>
                                        <td><button class="edit-btn" onclick="openModal(this)">Edit</button></td>
                                    </tr>
                                    <tr>
                                        <td>â‚¹399</td>
                                        <td>28 Days</td>
                                        <td>2.5 GB/Day</td>
                                        <td><button class="edit-btn" onclick="openModal(this)">Edit</button></td>
                                    </tr>
                                </tbody>
                            </table>
                            
                        </div>
                      </div>
                
                      <div class="collapsible">
                        <input type="checkbox" id="toggle-2_5gb" />
                        <label for="toggle-2_5gb" class="collapsible-label">2.5 GB/Day Plans (4)</label>
                        <div class="collapsible-content">
                            <table>
                                <thead>
                                    <tr>
                                        <th>Plan Price</th>
                                        <th>Validity</th>
                                        <th>Data Pack</th>
                                        <th>Action</th>
                                    </tr>
                                </thead>
                                <tbody>
                                    <tr>
                                        <td>â‚¹199</td>
                                        <td>14 Days</td>
                                        <td>2.5 GB/Day</td>
                                        <td><button class="edit-btn" onclick="openModal(this)">Edit</button></td>
                                    </tr>
                                    <tr>
                                        <td>â‚¹399</td>
                                        <td>28 Days</td>
                                        <td>2.5 GB/Day</td>
                                        <td><button class="edit-btn" onclick="openModal(this)">Edit</button></td>
                                    </tr>
                                    <tr>
                                        <td>â‚¹499</td>
                                        <td>36 Days</td>
                                        <td>2.5 GB/Day</td>
                                        <td><button class="edit-btn" onclick="openModal(this)">Edit</button></td>
                                    </tr>
                                    <tr>
                                        <td>â‚¹738</td>
                                        <td>48 Days</td>
                                        <td>2.5 GB/Day</td>
                                        <td><button class="edit-btn" onclick="openModal(this)">Edit</button></td>
                                    </tr>
                                </tbody>
                            </table>
                            
                        </div>
                      </div>
                
                      <div class="collapsible">
                        <input type="checkbox" id="toggle-2gb" />
                        <label for="toggle-2gb" class="collapsible-label">2 GB/Day Plans (5)</label>
                        <div class="collapsible-content">
                            <table>
                                <thead>
                                    <tr>
                                        <th>Plan Price</th>
                                        <th>Validity</th>
                                        <th>Data Pack</th>
                                        <th>Action</th>
                                    </tr>
                                </thead>
                                <tbody>
                                    <tr>
                                        <td>â‚¹149</td>
                                        <td>14 Days</td>
                                        <td>2 GB/Day</td>
                                        <td><button class="edit-btn" onclick="openModal(this)">Edit</button></td>
                                    </tr>
                                    <tr>
                                        <td>â‚¹249</td>
                                        <td>28 Days</td>
                                        <td>2 GB/Day</td>
                                        <td><button class="edit-btn" onclick="openModal(this)">Edit</button></td>
                                    </tr>
                                    <tr>
                                        <td>â‚¹399</td>
                                        <td>36 Days</td>
                                        <td>2 GB/Day</td>
                                        <td><button class="edit-btn" onclick="openModal(this)">Edit</button></td>
                                    </tr>
                                    <tr>
                                        <td>â‚¹529</td>
                                        <td>48 Days</td>
                                        <td>2 GB/Day</td>
                                        <td><button class="edit-btn" onclick="openModal(this)">Edit</button></td>
                                    </tr>
                                    <tr>
                                        <td>â‚¹799</td>
                                        <td>78 Days</td>
                                        <td>2 GB/Day</td>
                                        <td><button class="edit-btn" onclick="openModal(this)">Edit</button></td>
                                    </tr>
                                </tbody>
                            </table>
                            
                        </div>
                      </div>
                
                      <div class="collapsible">
                        <input type="checkbox" id="toggle-1gb" />
                        <label for="toggle-1gb" class="collapsible-label">1 GB/Day Plans (2)</label>
                        <div class="collapsible-content">
                            <table>
                                <thead>
                                    <tr>
                                        <th>Plan Price</th>
                                        <th>Validity</th>
                                        <th>Data Pack</th>
                                        <th>Action</th>
                                    </tr>
                                </thead>
                                <tbody>
                                    <tr>
                                        <td>â‚¹99</td>
                                        <td>14 Days</td>
                                        <td>1 GB/Day</td>
                                        <td><button class="edit-btn" onclick="openModal(this)">Edit</button></td>
                                    </tr>
                                    <tr>
                                        <td>â‚¹149</td>
                                        <td>28 Days</td>
                                        <td>1 GB/Day</td>
                                        <td><button class="edit-btn" onclick="openModal(this)">Edit</button></td>
                                    </tr>
                                </tbody>
                            </table>                    
                        </div>
                      </div>
                </section>

                <div class="modal" id="planeditModal">
                    <div class="modal-content">
                        <span class="close-btn" onclick="closeModal()">&times;</span>
                        <h2>Edit Plan</h2>
                        <div class="form-group">
                            <label for="planPrice">Plan Price</label>
                            <input type="text" id="planPrice">
                        </div>
                        <div class="form-group">
                            <label for="validity">Validity</label>
                            <input type="text" id="validity">
                        </div>
                        <div class="form-group">
                            <label for="dataPack">Data Pack</label>
                            <input type="text" id="dataPack">
                        </div>
                        <button class="save-btn" onclick="saveChanges()">Save</button>
                        </div>
                    </div>
                </div>
        
            
            
    
            <div id="settings" class="section1">
                <h3>System Settings</h3>
                <form id="settings-form">
                    <label for="site-name">Site Name:</label>
                    <input type="text" id="site-name" name="site-name" value="Prepaid Recharge System">
            
                    <label for="currency">Default Currency:</label>
                    <select id="currency" name="currency">
                        <option value="USD">USD - US Dollar</option>
                        <option value="INR" selected>INR - Indian Rupee</option>
                        <option value="EUR">EUR - Euro</option>
                    </select>
            
                    <label for="min-recharge">Minimum Recharge Amount:</label>
                    <input type="number" id="min-recharge" name="min-recharge" value="10">
            
                    <label for="max-recharge">Maximum Recharge Amount:</label>
                    <input type="number" id="max-recharge" name="max-recharge" value="5000">
            
                    <label for="timezone">System Timezone:</label>
                    <select id="timezone" name="timezone">
                        <option value="UTC">UTC</option>
                        <option value="IST" selected>IST - Indian Standard Time</option>
                        <option value="EST">EST - Eastern Standard Time</option>
                    </select>
            
                    <label for="support-email">Support Email:</label>
                    <input type="email" id="support-email" name="support-email" value="support@prepaidrecharge.com">
            
                    <label for="auto-refund">Auto Refund Failed Transactions:</label>
                    <select id="auto-refund" name="auto-refund">
                        <option value="yes" selected>Yes</option>
                        <option value="no">No</option>
                    </select>
                    <br>
                    <br>
            
                    <button type="submit">Save Settings</button>
                </form>
            </div>
        </div>
        </div>
    </div>
</body>
<script>

    document.getElementById("expiry-users").style.display='block';
    document.getElementById("user-management").style.display='none';
    document.getElementById("recharge-history").style.display='none';
    document.getElementById("recharge-plans").style.display='none';
    document.getElementById("settings").style.display='none';

function changeContent(input) {
    const sections = ["user-management", "recharge-history", "recharge-plans", "settings", "expiry-users"];

    sections.forEach((section, index) => {
        document.getElementById(section).style.display = (index + 1 === input) ? 'block' : 'none';
    });
}

const checkboxes = document.querySelectorAll(".collapsible input");

checkboxes.forEach((checkbox) => {
  checkbox.addEventListener("change", function () {
    checkboxes.forEach((cb) => {
      if (cb !== this) cb.checked = false;
    });
  });
});


var ctx = document.getElementById('transactionChart').getContext('2d');
    var transactionChart = new Chart(ctx, {
        type: 'bar',
        data: {
            labels: ['Success', 'Failed', 'Pending'],
            datasets: [{
                label: 'Transaction Status',
                data: [1050, 120, 80],
                backgroundColor: ['green', 'red', 'orange']
            }]
        }
    });

    var ctx = document.getElementById('paymentChart').getContext('2d');
    var paymentChart = new Chart(ctx, {
        type: 'pie',
        data: {
            labels: ['UPI', 'Credit Card', 'Debit Card'],
            datasets: [{
                data: [600, 400, 250],
                backgroundColor: ['#007bff', '#28a745', '#ffc107']
            }]
        }
    });


    let currentRow = null;

function openedituserModal(button) {
    currentRow = button.closest("tr");
    let cells = currentRow.querySelectorAll("td");

 

    document.getElementById("modalUserId").value = cells[0].textContent.trim();
    document.getElementById("modalName").value = cells[1].textContent.trim();
    document.getElementById("modalEmail").value = cells[2].textContent.trim();
    document.getElementById("modalPhone").value = cells[3].textContent.trim();
    document.getElementById("modaldob").value = cells[4].textContent.trim();
    document.getElementById("modalAddress").value = cells[6].textContent.trim();


    document.getElementById("usereditModal").style.display = "block";
}

function saveedituserChanges() {
    let name = document.getElementById("modalName").value;
    let email = document.getElementById("modalEmail").value;
    let phone = document.getElementById("modalPhone").value;
    let dob = document.getElementById("modaldob").value
    let address = document.getElementById("modalAddress").value

    if (currentRow) {
        currentRow.cells[1].textContent = name;
        currentRow.cells[2].textContent = email;
        currentRow.cells[3].textContent = phone;
        currentRow.cells[4].textContent = dob;
        currentRow.cells[6].textContent = address;
    }
    closeedituserModal();
}

function closeedituserModal() {
    document.getElementById("usereditModal").style.display = "none";
}

function openAdduserModal() {
    document.getElementById("addmodalName").value = "";
    document.getElementById("addmodalEmail").value = "";
    document.getElementById("addmodalPhone").value = "";

    document.getElementById("useraddModal").style.display = "block";
}

function saveadduserChanges() {
    let name = document.getElementById("addmodalName").value;
    let email = document.getElementById("addmodalEmail").value;
    let phone = document.getElementById("addmodalPhone").value;
    let dob = document.getElementById("addmodaldob").value;
let gender;
    let maleRadio = document.getElementById("male");
    if (maleRadio.checked) {
        gender = "Male"    
    }
    else{
        gender = "Female"   
    }
    let address = document.getElementById("addmodaladdress").value;


    if (name.trim() === "" || email.trim() === "" || phone.trim() === "") {
        alert("All fields are required!");
        return;
    }

    let tableBody = document.getElementById("user-table").querySelector("tbody");
    let newRow = tableBody.insertRow();
    
    let userId = generateUserId(); 
    newRow.innerHTML = `<td>${userId}</td>
                     <td>${name}</td>
                     <td>${email}</td>
                     <td>${phone}</td>
                     <td>${dob}</td>
                     <td>${gender}</td>
                     <td>${address}</td>
                     <td><button class="activeClass">active</button></td>
                    <td>
                        <button onclick="openedituserModal(this)"><span class="material-icons">edit</span></button>
                        <button onclick="deleteUser(this)"><span class="material-icons">delete</span></button>
                    </td>`;
    

    closeadduserModal();
}

function closeadduserModal() {
    document.getElementById("useraddModal").style.display = "none";
}

function deleteUser(button) {
    let row = button.closest("tr");
    row.remove();
}
let useridnumber = 122;
function generateUserId() {

    useridnumber++;

    return useridnumber;
}

let currentPlanRow = null;

function openModal(button) {
    currentPlanRow = button.closest("tr"); 
    let cells = currentPlanRow.getElementsByTagName("td");

    if (cells.length < 3) return;

    document.getElementById("planPrice").value = cells[0].textContent.trim();
    document.getElementById("validity").value = cells[1].textContent.trim();
    document.getElementById("dataPack").value = cells[2].textContent.trim();

    document.getElementById("planeditModal").style.display = "block";
}

function saveChanges() {
    if (!currentPlanRow) return;

    let newPrice = document.getElementById("planPrice").value.trim();
    let newValidity = document.getElementById("validity").value.trim();
    let newDataPack = document.getElementById("dataPack").value.trim();

    if (newPrice === "" || newValidity === "" || newDataPack === "") {
        alert("All fields are required!");
        return;
    }

    currentPlanRow.cells[0].textContent = `${newPrice}`;
    currentPlanRow.cells[1].textContent = newValidity;
    currentPlanRow.cells[2].textContent = newDataPack;

    closeModal();
}

function closeModal() {
    document.getElementById("planeditModal").style.display = "none";
}

document.querySelectorAll(".collapsible input[type='checkbox']").forEach(toggle => {
    toggle.addEventListener("change", function () {
        let content = this.parentElement.querySelector(".collapsible-content");
        content.style.display = this.checked ? "block" : "none";
    });
});


function validateInput(fieldId, errorId) {
    let value = document.getElementById(fieldId).value.trim();
    let errorSpan = document.getElementById(errorId);

    if (fieldId.includes("Name")) {
        let nameRegex = /^[A-Za-z\s]+$/;
        errorSpan.textContent = nameRegex.test(value) && value !== "" ? "" : "Name should contain only letters.";
    } 
    else if (fieldId.includes("Email")) {
        let emailRegex = /^[^\s@]+@[^\s@]+\.[^\s@]+$/;
        errorSpan.textContent = emailRegex.test(value) ? "" : "Invalid email format.";
    } 
    else if (fieldId.includes("Phone")) {
        let phoneRegex = /^\d{10}$/;
        errorSpan.textContent = phoneRegex.test(value) ? "" : "Phone must be exactly 10 digits.";
    } 
    else {
        errorSpan.textContent = "";
    }
}
</script>
</html>